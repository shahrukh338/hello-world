pipeline{
    agent any
    stages{
        stage("git checkout')
            steps{
                git credentialId: 'name', url: 'https://github.com/shahrukh338/tomcat_practice.git'
            }
         }
         stage("maven Build"){
             steps{
                 sh "mvn clean install"
             }
          }
          stage("deploy"){
              steps{
                  sshagent([tomcat-new]){
                  sh "scp -o strictHostkeychecking=no target/artifact.war ec2-user@topmcatIP:/home/ec2-user/tomcat
               }
               }
           }
     }
   
  }     
